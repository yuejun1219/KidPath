<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Retro Game Password Gate -->
    <script>
      (function () {
        var KEY = 'kidpath_site_unlocked';
        var PASS = 'Demo123!'; // demo ÂØÜÁ†Å

        function createKidpathPasswordModal() {
          // ====== overlay ======
          var overlay = document.createElement('div');
          overlay.setAttribute('role','dialog');
          overlay.setAttribute('aria-modal','true');
          overlay.style.cssText = `
            position: fixed; inset: 0;
            display: flex; align-items: center; justify-content: center;
            background:
              radial-gradient(1400px 300px at 50% -220px, rgba(94,53,177,.08), transparent 60%),
              linear-gradient(180deg, #f8faf8 0%, #e8f5e8 100%);
            z-index: 10000;
            font-family: Segoe UI, system-ui, -apple-system, Arial, sans-serif;
          `;

          // ====== modal card ======
          var card = document.createElement('div');
          card.style.cssText = `
            width: min(520px, 92vw);
            border-radius: 18px;
            background: rgba(255,255,255,.86);
            border: 1px solid rgba(46,125,50,.18);
            box-shadow: 0 20px 60px rgba(46,125,50,.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 26px 24px 22px;
            transform-origin: 50% 50%;
            animation: kp-pop .28s ease-out;
          `;

          // ====== styles ======
          var style = document.createElement('style');
          style.textContent = `
            @media (prefers-reduced-motion: reduce){
              * { animation: none !important; transition: none !important; }
            }
            @keyframes kp-pop { from { transform: scale(.96); opacity: 0 } to { transform: scale(1); opacity: 1 } }
            @keyframes kp-shake {
              0%,100%{ transform: translateX(0) }
              20%{ transform: translateX(-6px) }
              40%{ transform: translateX(6px) }
              60%{ transform: translateX(-4px) }
              80%{ transform: translateX(4px) }
            }
            .kp-title{
              margin: 0 0 4px; font-weight: 900; letter-spacing: -.02em;
              font-size: clamp(20px, 3.8vw, 28px); color:#1b5e20;
            }
            .kp-sub{ margin:0 0 18px; color:#365a3d; font-size: 14px; }
            .kp-help{ margin: 10px 0 0; font-size: 12px; color:#6b7280; }
            .kp-row{ display:grid; gap:10px; grid-template-columns: 1fr auto; align-items:center; }
            .kp-input{
              width:100%; padding: 12px 14px;
              border-radius: 12px; border:1px solid rgba(46,125,50,.25);
              background:#fff; color:#1f2937; font-size:15px;
              outline: none; transition: box-shadow .15s ease, border-color .15s ease;
            }
            .kp-input:focus{
              border-color:#2e7d32;
              box-shadow: 0 0 0 4px rgba(46,125,50,.15);
            }
            .kp-btn{
              appearance:none; border:1px solid #2e7d32; cursor:pointer;
              border-radius: 12px; padding: 12px 16px; font-weight: 800;
              background: linear-gradient(135deg, #2e7d32, #0d47a1);
              color:#fff; box-shadow: 0 10px 24px rgba(46,125,50,.25);
              transition: transform .12s ease, filter .12s ease;
              white-space: nowrap;
            }
            .kp-btn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
            .kp-error{
              display:none; margin-top:8px; color:#c62828; font-size: 12px;
            }
            .kp-brand{
              display:flex; align-items:center; gap:10px; margin-bottom:10px;
              color:#275e2b; font-weight:900; letter-spacing:.2px;
            }
            .kp-badge{
              display:inline-grid; place-items:center;
              width:36px; height:36px; border-radius:12px;
              background: #e8f5e9; color:#2e7d32; font-weight:900;
              box-shadow: inset 0 0 0 1px rgba(46,125,50,.22);
            }
            .kp-footer{
              margin-top:14px; text-align:center; font-size:12px; color:#7a8b80;
            }
          `;
          document.head.appendChild(style);

          // ====== content ======
          card.innerHTML = `
            <div class="kp-brand">
              <div class="kp-badge">üå±</div>
              <div>KidPath ¬∑ Protected Preview</div>
            </div>
            <h2 class="kp-title">Enter access code</h2>
            <p class="kp-sub">This preview is gated. Please enter the demo code to continue.</p>

            <div class="kp-row">
              <input id="kpPass" type="password" class="kp-input" placeholder="Access code" autocomplete="off" />
              <button id="kpBtn" class="kp-btn">Unlock</button>
            </div>
            <div id="kpErr" class="kp-error">Incorrect code. Please try again.</div>

            <div class="kp-footer">Helping families walk with confidence</div>
          `;

          overlay.appendChild(card);
          document.body.appendChild(overlay);

          // ====== interactions ======
          var input = card.querySelector('#kpPass');
          var btn   = card.querySelector('#kpBtn');
          var err   = card.querySelector('#kpErr');
          input.focus();

          function submit() {
            var ok = input.value === PASS;
            if (ok) {
              localStorage.setItem(KEY, '1');
              overlay.style.transition = 'opacity .25s ease, transform .25s ease';
              overlay.style.opacity = '0';
              overlay.style.transform = 'scale(.98)';
              setTimeout(function(){
                document.body.removeChild(overlay);
                document.head.removeChild(style);
              }, 250);
            } else {
              err.style.display = 'block';
              card.style.animation = 'kp-shake .36s ease';
              setTimeout(function(){ card.style.animation = '' }, 360);
              input.value = '';
              input.focus();
            }
          }

          btn.addEventListener('click', submit);
          input.addEventListener('keydown', function(e){
            if (e.key === 'Enter') submit();
          });
        }

        try {
          if (!localStorage.getItem(KEY)) {
            document.addEventListener('DOMContentLoaded', function () {
              createKidpathPasswordModal();
            });
          }
        } catch (e) {
          var input = window.prompt('Password:');
          if (input !== PASS) { document.write('<style>body{display:none;}</style>'); }
        }
      })();
  </script>


    <meta charset="UTF-8">
    <link rel="icon" href="/images/favicon..svg" type="image/svg+xml">
    <link rel="shortcut icon" href="/images/favicon..svg">
    <link rel="apple-touch-icon" href="/images/favicon..svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Otomanopee+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sour+Gummy&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Knewave&display=swap" rel="stylesheet">
    <title>KidPath - Helping Families Walk with Confidence</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
